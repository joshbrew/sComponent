var D=Object.create;var k=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var Y=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty;var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var K=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of M(t))!J.call(e,s)&&s!==r&&k(e,s,{get:()=>t[s],enumerable:!(n=H(t,s))||n.enumerable});return e};var z=(e,t,r)=>(r=e!=null?D(Y(e)):{},K(t||!e||!e.__esModule?k(r,"default",{value:e,enumerable:!0}):r,e));var U=w(i=>{"use strict";var g=Symbol.for("react.element"),W=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),tt=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),nt=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),O=Symbol.iterator;function ot(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function d(e,t,r){this.props=e,this.context=t,this.refs=C,this.updater=r||j}d.prototype.isReactComponent={};d.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};d.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $(){}$.prototype=d.prototype;function m(e,t,r){this.props=e,this.context=t,this.refs=C,this.updater=r||j}var b=m.prototype=new $;b.constructor=m;x(b,d.prototype);b.isPureReactComponent=!0;var T=Array.isArray,N=Object.prototype.hasOwnProperty,v={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function B(e,t,r){var n,s={},o=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)N.call(t,n)&&!L.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var a=Array(c),f=0;f<c;f++)a[f]=arguments[f+2];s.children=a}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:g,type:e,key:o,ref:u,props:s,_owner:v.current}}function it(e,t){return{$$typeof:g,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function E(e){return typeof e=="object"&&e!==null&&e.$$typeof===g}function ut(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var P=/\/+/g;function S(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ut(""+e.key):t.toString(36)}function _(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case g:case W:u=!0}}if(u)return u=e,s=s(u),e=n===""?"."+S(u,0):n,T(s)?(r="",e!=null&&(r=e.replace(P,"$&/")+"/"),_(s,t,r,"",function(f){return f})):s!=null&&(E(s)&&(s=it(s,r+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+e)),t.push(s)),1;if(u=0,n=n===""?".":n+":",T(e))for(var c=0;c<e.length;c++){o=e[c];var a=n+S(o,c);u+=_(o,t,r,a,s)}else if(a=ot(e),typeof a=="function")for(e=a.call(e),c=0;!(o=e.next()).done;)o=o.value,a=n+S(o,c++),u+=_(o,t,r,a,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function p(e,t,r){if(e==null)return e;var n=[],s=0;return _(e,n,"","",function(o){return t.call(r,o,s++)}),n}function at(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var l={current:null},y={transition:null},ct={ReactCurrentDispatcher:l,ReactCurrentBatchConfig:y,ReactCurrentOwner:v};function I(){throw Error("act(...) is not supported in production builds of React.")}i.Children={map:p,forEach:function(e,t,r){p(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return p(e,function(){t++}),t},toArray:function(e){return p(e,function(t){return t})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};i.Component=d;i.Fragment=G;i.Profiler=X;i.PureComponent=m;i.StrictMode=Q;i.Suspense=rt;i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ct;i.act=I;i.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=x({},e.props),s=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=v.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(a in t)N.call(t,a)&&!L.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&c!==void 0?c[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){c=Array(a);for(var f=0;f<a;f++)c[f]=arguments[f+2];n.children=c}return{$$typeof:g,type:e.type,key:s,ref:o,props:n,_owner:u}};i.createContext=function(e){return e={$$typeof:tt,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z,_context:e},e.Consumer=e};i.createElement=B;i.createFactory=function(e){var t=B.bind(null,e);return t.type=e,t};i.createRef=function(){return{current:null}};i.forwardRef=function(e){return{$$typeof:et,render:e}};i.isValidElement=E;i.lazy=function(e){return{$$typeof:st,_payload:{_status:-1,_result:e},_init:at}};i.memo=function(e,t){return{$$typeof:nt,type:e,compare:t===void 0?null:t}};i.startTransition=function(e){var t=y.transition;y.transition={};try{e()}finally{y.transition=t}};i.unstable_act=I;i.useCallback=function(e,t){return l.current.useCallback(e,t)};i.useContext=function(e){return l.current.useContext(e)};i.useDebugValue=function(){};i.useDeferredValue=function(e){return l.current.useDeferredValue(e)};i.useEffect=function(e,t){return l.current.useEffect(e,t)};i.useId=function(){return l.current.useId()};i.useImperativeHandle=function(e,t,r){return l.current.useImperativeHandle(e,t,r)};i.useInsertionEffect=function(e,t){return l.current.useInsertionEffect(e,t)};i.useLayoutEffect=function(e,t){return l.current.useLayoutEffect(e,t)};i.useMemo=function(e,t){return l.current.useMemo(e,t)};i.useReducer=function(e,t,r){return l.current.useReducer(e,t,r)};i.useRef=function(e){return l.current.useRef(e)};i.useState=function(e){return l.current.useState(e)};i.useSyncExternalStore=function(e,t,r){return l.current.useSyncExternalStore(e,t,r)};i.useTransition=function(){return l.current.useTransition()};i.version="18.3.1"});var V=w((ht,A)=>{"use strict";A.exports=U()});var h=class{data={};triggers={};ctr=0;STATESUBKEY="*s";useLocalStorage=!1;constructor(t,r){if(r&&(this.useLocalStorage=r),typeof t=="object"&&(this.data=t,this.useLocalStorage&&typeof globalThis.localStorage<"u")){for(let n in t)if(globalThis.localStorage.getItem(n)!==null)try{this.data[n]=JSON.parse(globalThis.localStorageValue)}catch{console.warn(`Could not parse localStorage value for key: ${n}`)}}}setState=t=>{Object.assign(this.data,t);let r=Object.getOwnPropertyNames(t);for(let n of r)this.triggerEvent(n,this.data[n]);if(this.triggers[this.STATESUBKEY]){let n=o=>{o(t)},s=this.triggers[this.STATESUBKEY].length;for(let o=s-1;o>=0;o--)n(this.triggers[this.STATESUBKEY][o].onchange)}if(this.useLocalStorage&&typeof globalThis.localStorage<"u")for(let n in t)globalThis.localStorage.setItem(n,JSON.stringify(t[n]));return this.data};setValue=(t,r)=>{this.data[t]=r,this.triggerEvent(t,r),this.useLocalStorage&&localStorage.setItem(t,JSON.stringify(r))};triggerEvent=(t,r)=>{if(this.triggers[t]){let n=o=>{o.onchange(r)},s=this.triggers[t].length;for(let o=s-1;o>=0;o--)n(this.triggers[t][o])}};subscribeState=t=>this.subscribeEvent(this.STATESUBKEY,t);unsubscribeState=t=>this.unsubscribeEvent(this.STATESUBKEY,t);subscribeEvent=(t,r,n,s)=>{if(t){n&&s&&!this.triggers[t]&&Object.defineProperty(this.data,t,{get:()=>n[s],set:u=>{n[s]=u},enumerable:!0,configurable:!0}),this.triggers[t]||(this.triggers[t]=[]);let o=this.ctr;return this.ctr++,this.triggers[t].push({sub:o,onchange:r}),o}else return};unsubscribeEvent=(t,r)=>{let n=this.triggers[t];if(n)if(r===void 0)delete this.triggers[t],delete this.data[t];else{let s,o=(c,a)=>{if(c.sub===r)return s=a,!0},u=n.find(o);return u&&n.splice(s,1),Object.keys(n).length===0&&(delete this.triggers[t],delete this.data[t]),this.onRemoved&&this.onRemoved(u),!0}};subscribeEventOnce=(t,r)=>{let n,s=o=>{r(o),this.unsubscribeEvent(t,n)};return n=this.subscribeEvent(t,s),n};getEvent=(t,r)=>{if(typeof r!="number")return this.triggers[t];for(let n in this.triggers[t])if(this.triggers[t][n].sub===r)return this.triggers[t][n]};getSnapshot=()=>{let t={};for(let r in this.data)t[r]=this.data[r]};onRemoved;updateLocalStorage(){if(this.useLocalStorage&&typeof globalThis.localStorage<"u")for(let t in this.data)globalThis.localStorage.setItem(t,JSON.stringify(this.data[t]))}restoreLocalStorage(t=Object.keys(this.data)){if(typeof globalThis.localStorage<"u"){let r={};for(let n of t){let s=localStorage.getItem(n);s!==null&&(r[n]=JSON.parse(s),r[n]!==this.data[n]&&(this.data[n]=r[n]))}return r}else throw new Error("Storage Not Enabled")}};var F=z(V(),1);var q=new h,R=class extends F.Component{state={};__statemgr;__state_subs={};__updated=[];__unique=`component${Math.floor(Math.random()*1e15)}`;__doNotBroadcast;setState(t,r){return new Promise(n=>{typeof t=="function"?super.setState(o=>{let u=t(o);return this.__updated=Object.keys(u),this.__statemgr.setState(u),u},()=>{r&&r(),n()}):super.setState(t,()=>{this.__updated=Object.keys(t),this.__statemgr.setState(t),r&&r(),n()})})}constructor(t={}){super(t),this.__statemgr=t.state??q,t.doNotBroadcast&&(this.__doNotBroadcast=t.doNotBroadcast);let r={};for(let n in this.state)this.__doNotBroadcast?.includes(n)||n in this.__statemgr.data&&(r[n]=this.__statemgr.data[n]);Object.keys(r).length&&Object.assign(this.state,r),this.__statemgr.useLocalStorage&&this.__restoreLocalStorage(),setTimeout(()=>{let n={};for(let s in this.state)t.doNotBroadcast?.includes(s)||(s in this.__statemgr.data&&(n[s]=this.__statemgr.data[s]),this.__subscribeComponent(s));Object.keys(n).length&&super.setState(n)},0)}__subscribeComponent(t,r){let n=this.__statemgr.subscribeEvent(t,s=>{r&&r(s);let o=this.__updated.indexOf(t);o>-1?this.__updated.splice(o,1):super.setState({[t]:s})});return this.__state_subs[t]=n,n}__unsubscribeComponent(t){if(t)this.__statemgr.unsubscribeEvent(t,this.__state_subs[t]);else{for(let r in this.__state_subs)this.__statemgr.unsubscribeEvent(r,this.__state_subs[r]);this.__state_subs={}}}__setUseLocalStorage(t){this.__statemgr.useLocalStorage=t,this.__restoreLocalStorage()}__restoreLocalStorage(){let t=this.__statemgr.restoreLocalStorage(Object.keys(this.state));t&&Object.assign(this.state,t)}};export{h as EventHandler,R as sComponent,q as state};
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
